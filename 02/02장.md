# 02. 도커 엔진

 도커 엔진에서 사용하는 기본 단위는 이미지와 컨테이너이다. 
 ```dockerfile
    - 도커 이미지
        : 도커 이미지는 컨테이너 생성에 필요한 요소이다. iso 파일과 비슷한 개념이다. 읽기 전용으로 사용된다.
        도커에서 사용하는 이미지 이름은 기본적으로 [저장소 이름]/[이미지 이름]:[태그]로 구성된다.
        
         alicek106/ubuntu:14.04
         [저장소이름]/[이미지이름]:태그
         
         {
            저장소 이름 : 이미지가 저장된 장소 이름이 명시되지 않으면 DockerHub 공식 이미지, 생성 시 생략도 가능
            이미지 이름 : 이미지의 역할
            태그 : 버전관리, revision 관리에 사용
         }
     
     

    - 도커 컨테이너 
        : 우분투, MySQL 등의 애플리케이션으로 컨테이너를 생성하면 해당 이미지의 목적이 맞는 파일들이 있응 파일시스템과 
        격리된 시스템 자원 및 네트워크를 사용할 수 있는 독립된 공간이 생성되고, 이것이 바로 도커 컨테이너가 된다.
        대부분의 도커 컨테이너는 생성될 떄 사용된 도커 이미지의 종류에 따라 알맞는 설정과 파일을 가지고 있기 때문에 
        도커 이미지의 목적에 맞도록 사용되는 것이 일반적이다.
        
       컨테이너는 이미지를 읽기 전용으로 사용하되 이미지에서 변경된 사항만 컨테이너 계층에 저장하므로 컨테이너에서 무엇을 하든
       원래 이미지에는 영향을 주지 않는다. 또한 생성된 각 컨테이너는 각기 독립된 파일 시스템을 제공받으며 호스트와 분리돼 있으므로
       특정 컨테이너에서 변화를 주더라도 다른 컨테이너, 호스트는 이와 격리된다.
           
          
          
         `docker run -i -t ubuntu:14.04`

          {
            -i: 상호 입출력
            -t: tty를 활성화 해서 bash를 사용하도록 컨테이너를 설정
            
            docker run에서 이 둘 중 하나라도 사용하지 않으면 셸을 정상적으로 사용할 수 없다. 
          }
          
      와 같이 실행하면 ubuntu:14.04가 설치된다.
       
        root@ubuntu:/home/pi# docker run -i -t ubuntu:14.04
        Unable to find image 'ubuntu:14.04' locally
        14.04: Pulling from library/ubuntu
        d1a5a1e51f25: Pull complete 
        e5fc464c2dc9: Pull complete 
        561f253b7549: Pull complete 
        Digest: sha256:60840958b25b5947b11d7a274274dc48ab32a2f5d18527f5dae2962b64269a3a
        Status: Downloaded newer image for ubuntu:14.04
         
        root@cef48f96d5b7:/#
        
    셸의 사용자와 호스트 이름이 변경된 것을 보면 컨테이너 내부에 들어와 있다는 것을 의미한다.  이 상태를 빠져나오는 방법은 Ctrl+P, Q를 입력하거나
    'exit'을 입력하는 방법이있다. 'exit'은 bash를 종료함으로써 컨테이너를 정지시키면서 빠져나오지만 Ctrl+P, Q는 셸에서만 빠져나오기 떄문에
    컨테이너 애플리케이션을 개발하는 목적으로 많이 사용한다.
    
        'docker pull /이미지:버전/'
    
    으로 이미지를 내려 받을 수도 있으며 
    
        'docker images'
    
    로 도커 엔진에 존재하는 이미지 목록을 출력할 수도 있습니다.
    
            root@ubuntu:/home/pi# docker images
        REPOSITORY   TAG       IMAGE ID       CREATED        SIZE
        ubuntu       14.04     7304c635fe52   5 months ago   187MB
    
    뿐만 아니라 컨테이너 생성할 때는 'run'이 아닌 'create'를 사용할 수도 있습니다.
    
    
        'docker create -i -t --name [name] [image:version]'
        
    '--name' 옵션은 컨테이너의 이름을 설정한다.  이 명령어는 'run'과는 달리 컨테이너 내부로 진입하지 않는다.
    create 명령어는 컨테이너를 생성만 할 뿐 컨테이너로 들어가지 않기 때문이다.
    
    
        'docker start [name]'
        'docker attach [name]'
        
    'start'는 컨테이너를 시작하는 명령어이고 'attach'는 컨테이너 내부로 들어가는 명령어이다.
        
        
    /////
    정리하면, run은 pull/ create/ start를 실행하고 attach가 가능하면 컨테이너 내부로 들어간다.
    create는 도커 이미지를 pull한 뒤 생성만할 뿐 start, attach는 실행하지 않는다.
    
    {
        컨테이너를 대상으로 하는 모든 명령어는 컨테이너의 이름 대신 ID를 쓸 수 있다. ID가 너무 길면 앞의 2~3글자만 
        입력해도 된다. 
    }
    /////
    

         
 ```